From 82ca49d7239c19da34efcfbb3f3d05094023cb03 Mon Sep 17 00:00:00 2001
From: Andreas Beckmann <anbe@debian.org>
Date: Tue, 10 Dec 2024 19:53:27 +0100
Subject: [PATCH] backport uvm warning fixes from 535.146.02

---
 nvidia-uvm/uvm_va_range.c | 2 +-
 nvidia-uvm/uvm_va_range.h | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/nvidia-uvm/uvm_va_range.c b/nvidia-uvm/uvm_va_range.c
index 69149e51..234abf26 100644
--- a/nvidia-uvm/uvm_va_range.c
+++ b/nvidia-uvm/uvm_va_range.c
@@ -1659,7 +1659,7 @@ static bool fault_check_range_permission(uvm_va_range_t *va_range, uvm_fault_acc
 
 NV_STATUS uvm_va_range_check_logical_permissions(uvm_va_range_t *va_range,
                                                  uvm_processor_id_t processor_id,
-                                                 uvm_fault_type_t access_type,
+                                                 uvm_fault_access_type_t access_type,
                                                  bool allow_migration)
 {
     // CPU permissions are checked later by block_map_cpu_page.
diff --git a/nvidia-uvm/uvm_va_range.h b/nvidia-uvm/uvm_va_range.h
index 6afc8ce7..872a7b6d 100644
--- a/nvidia-uvm/uvm_va_range.h
+++ b/nvidia-uvm/uvm_va_range.h
@@ -891,7 +891,7 @@ uvm_prot_t uvm_va_range_logical_prot(uvm_va_range_t *va_range);
 //                              by UvmPreventMigrationRangeGroups.
 NV_STATUS uvm_va_range_check_logical_permissions(uvm_va_range_t *va_range,
                                                  uvm_processor_id_t processor_id,
-                                                 uvm_fault_type_t access_type,
+                                                 uvm_fault_access_type_t access_type,
                                                  bool allow_migration);
 
 static bool uvm_va_range_is_read_duplicate(uvm_va_range_t *va_range)
-- 
2.39.5

