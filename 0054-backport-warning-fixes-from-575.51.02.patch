From 00fcdb8be83355386e7c2f54c846441062c1eb15 Mon Sep 17 00:00:00 2001
From: Andreas Beckmann <anbe@debian.org>
Date: Tue, 27 May 2025 17:50:15 +0200
Subject: [PATCH] backport warning fixes from 575.51.02

---
 common/inc/nv-proto.h                | 2 +-
 nvidia-uvm/uvm_gpu_access_counters.c | 1 +
 2 files changed, 2 insertions(+), 1 deletion(-)

diff --git a/common/inc/nv-proto.h b/common/inc/nv-proto.h
index 79cccfa1..8ddae2eb 100644
--- a/common/inc/nv-proto.h
+++ b/common/inc/nv-proto.h
@@ -37,7 +37,7 @@ void        nv_procfs_remove_gpu        (nv_linux_state_t *);
 
 int         nvidia_mmap                 (struct file *, struct vm_area_struct *);
 int         nvidia_mmap_helper          (nv_state_t *, nv_linux_file_private_t *, nvidia_stack_t *, struct vm_area_struct *, void *);
-int         nv_encode_caching           (pgprot_t *, NvU32, NvU32);
+int         nv_encode_caching           (pgprot_t *, NvU32, nv_memory_type_t);
 void        nv_revoke_gpu_mappings_locked(nv_state_t *);
 
 NvUPtr      nv_vm_map_pages             (struct page **, NvU32, NvBool);
diff --git a/nvidia-uvm/uvm_gpu_access_counters.c b/nvidia-uvm/uvm_gpu_access_counters.c
index 25891b43..ffc21529 100644
--- a/nvidia-uvm/uvm_gpu_access_counters.c
+++ b/nvidia-uvm/uvm_gpu_access_counters.c
@@ -24,6 +24,7 @@
 #include "nv_uvm_interface.h"
 #include "uvm_gpu_access_counters.h"
 #include "uvm_global.h"
+#include "uvm_api.h"
 #include "uvm_gpu.h"
 #include "uvm_hal.h"
 #include "uvm_kvmalloc.h"
-- 
2.39.5

